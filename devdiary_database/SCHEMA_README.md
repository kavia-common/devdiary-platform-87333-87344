# DevDiary Database Schema

This folder contains the PostgreSQL schema for the DevDiary platform under schema `devdiary`.

- Primary connection: see db_connection.txt (generated by startup.sh)
- Default DB: myapp; User: appuser

## Applying schema

The schema is already provisioned through direct SQL execution in the automation. To re-apply or initialize a fresh database:

1. Ensure PostgreSQL is running and user/database are created (run startup.sh if needed).
2. Apply the schema file:

   psql postgresql://appuser:dbuser123@localhost:5000/myapp -f devdiary-platform-87333-87344/devdiary_database/schema/bootstrap_schema.sql

This creates:
- Users, user_settings
- Logs and log_entries (structured items)
- Integrations and user_integrations
- Activity events (historical feed)
- Analytics daily rollups
- Summaries
- API keys
- Required extensions, indexes, constraints, and updated_at triggers

Note for application:
- Set search_path to `devdiary, public` or fully qualify table names.
- UUID PKs and JSONB/CITEXT types are used; ensure backend ORM is configured accordingly.
